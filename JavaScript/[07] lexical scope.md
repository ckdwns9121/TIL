# Lexical Scope

## 1. 렉시컬 스코프란?

- 함수를 어디서 호출하는지가 아니라 어디에 선언하였는지에 따라 결정되는 것.
- 함수를 **어디에 선언**하였는지에 따라 상위 스코프를 결정한다는 뜻.
- 가장 중요한점은 **함수의 호출이 아니라 함수의 선언**에 따라 결정되는 것.
- 다른 말로 정적 스코프라고 부름

```javascript
var x = 1; //global
function test() {
  var x = 10;
  second();
}

function second() {
  console.log(x);
}

test(); //1
second(); //1
```

### 1과 1이 출력되는 이유는?

자바스크립트에서는 위와 같은 코드를 작성할 때, 이미 실행 단계에서 코드들의 스코프를 결정한다.

- global 범위에 있는 변수 x
- test() 함수 안에 있는 변수 x
- second() 함수 안에 있는 변수 x

## 2. 스코프 체인

자바스크립트 엔진은 식별자를 찾을 때 자신이 속한 스코프에서 먼저 찾고 그 스코프 내에 식별자가 없으면 상위 스코프에서 다시 찾아 나간다.  
이를 **스코프체인** 이라고 부른다.

```javascript
var x = 1;

function foo() {
  console.log(x); // -> 현재 자신의 스코프(foo 함수 내부)에 x가 없지만 상위 스코프인 전역에서 x를 찾는다.
}

console.log(x); // 1
foo(); // 1
```

함수가 다른 함수 안에서 만들어졌고 안쪽 함수(inner function)는 바깥 함수(outer funtion)의 변수에 접근 가능하다. 이러한 것을 **어휘적 스코프(Lexical Scoping)**이라고 한다.
